<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:Cinestar_app.Models"
             x:Class="Cinestar_app.HomePage"
             BackgroundColor="{StaticResource PrimaryBlue}">

    <ScrollView>
        <StackLayout Padding="10" Spacing="15">

            <!-- City Picker -->
            <Picker x:Name="CityPicker" Title="Odaberite grad" SelectedIndexChanged="OnCityChanged"/>

            <!-- Carousel za top filmove -->
            <CollectionView x:Name="CarouselFilms" ItemsLayout="HorizontalList" HeightRequest="220"
                            SelectionMode="Single" SelectionChanged="OnCarouselSelected">
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:Film">
                        <Frame Padding="0" HasShadow="True">
                            <Image Source="{Binding Poster}" HeightRequest="200"/>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <!-- Naslov -->
            <Label Text="Preporučeni filmovi" FontSize="20" FontAttributes="Bold"/>

            <!-- Više filmova -->
            <CollectionView x:Name="MoreFilmsCollectionView" SelectionMode="Single" SelectionChanged="OnFilmSelected">
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:Film">
                        <Frame>
                            <StackLayout>
                                <Image Source="{Binding Poster}" HeightRequest="150"/>
                                <Label Text="{Binding Title}" FontAttributes="Bold"/>
                                <Label Text="{Binding Year}"/>
                            </StackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </StackLayout>
    </ScrollView>
</ContentPage>
